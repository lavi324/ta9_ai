        
**Map Layers and Configuration**

**Introduction to Map Layers**

The map interface starts with a clean base map—without any filters, layers, or highlighting. On top of this base map, the system allows users to add layers (Map Layers), which visually represent structured data. Layers provide a way to view and interact with GIS data on the map.
There are two main types of layers in the system:
· Point Layers: These represent individual data points using geographic coordinates (longitude and latitude). Each point marks a specific and exact location on the map. For example:      abus stop, atm[[AK1]](#_msocom_1) , or a building location.

· Polygon Layers: These define areas or zones using a series of connected points. [[AK2]](#_msocom_2) forming a closed shape. The shape can be geometric (such as a square or circle), or irregular — meaning a free-form area based on specific coordinates, not restricted to standard geometrical shapes. Each coordinate is a pair of longitude and latitude. The shape must be closed (i.e., the last point equals the first). This allows the system to represent real-world boundaries.

**General Layer Handling (All Clients):**

Map layers are not created by the system itself but are fetched from external data sources. These sources may vary depending on the client's environment. The system retrieves the layer data via API calls and presents it clearly in the map interface, allowing users to analyze and interact with the spatial information effectively.

**Specific Note for Suzuki:**

Layers are not generated by our system but are provided by an external supplier, EGIS2, through their product ArcGIS. Our system consumes these layers using API calls and displays them in the map UI. The system ensure that the layers are displayed clearly and effectively for user interaction and analysis.

* * *

**Polygon Layer Configuration**

Starting from version 4.x, it is possible to define a polygon-based data model in Admin Studio, using a compatible JSON structure. If you do not have permission to access Admin Studio, please contact your system administrator to help complete the polygon setup.
The polygon layer is then visualized over the map as a highlighted zone. In order for the system to recognize this polygon, the field must be named exactly: 'Main Polygon'.
You can define how transparent the polygon layer should appear on the map. This helps in distinguishing data overlays without fully obscuring the map underneath.
The transparency level is defined by a numeric value between 0 and 1:
·         0 = Fully transparent (only the border is visible).
·         0.1 to 0.9 = Partial transparency (lower values mean more see-through).
·         1 = No transparency (fully filled color).
This value is defined in the configuration section:
System Config > Web Config > Polygon Layer Opacity


![{12DC6A0E-A759-444E-9126-B48DD9857FE7}.png](/.attachments/{12DC6A0E-A759-444E-9126-B48DD9857FE7}-939b2587-7af2-4c50-af8a-cfc54ee43395.png)

* * *

      
**Search Within Layers**
The system supports a built-in search feature called 'Find on Layer'. Users can type a value (even partial) in the main search bar, and the system will search the data within the active layers. This search checks against the 'Display Title' field of each object in the layer.
When a result is found, the relevant object is marked with a yellow circle on the map for easy identification. This search is especially helpful when dealing with large layers containing many entries (such as locations, street names, building codes, etc.).[[AK1]](#_msocom_1) 
To ensure that the search feature works properly, administrators must configure which fields in the data model are searchable. Specifically, the 'Display Title' field should be defined for each object in the layer. This is the field the system uses to match the user’s input. If the 'Display Title' is missing or improperly configured, the object will not appear in the search results.


![{4BD3A823-1F8B-4742-A565-94B136DC460A}.png](/.attachments/{4BD3A823-1F8B-4742-A565-94B136DC460A}-a9e70434-ad28-4112-b707-d3a11efd3767.png)

* * *

      
**BFT Layer (Real-Time Web Service)**
The BFT (Blue Force Tracking) layer is a special real-time data layer. It displays live positions of security forces and civil defense units across the country. This layer is accessed using a small gray lightbulb icon located near the search bar.
The BFT data is pulled in real time from a Web Service built by EGIS2. The API relies on a plugin they developed. If the data does not appear, it is likely due to an issue in the plugin or service availability. In that case, the client must contact EGIS2 directly to investigate the issue.
The BFT layer is also tied to a filtering system configured by the client. They defined four specific filtering layers based on their needs. If the BFT data structure changes or grows unexpectedly, it could slow down the map performance or crash the filters. Therefore, this service is sensitive to large data volumes and structural consistency.

![{84EA8AC9-0A73-4D68-BF80-56FFDA0360D4}.png](/.attachments/{84EA8AC9-0A73-4D68-BF80-56FFDA0360D4}-cd17c15f-bc3a-44e7-ab3a-8ecb83b03c9e.png)

* * *

      
**Handling Missing Layer Data / API Issues**
In case no data appears in the layer or something is missing, it could indicate a problem in the API connection. There are three common causes:
·         The API endpoint no longer exists (invalid or removed) – this must be handled by the data provider.
·         The API URL or name has changed – in this case, the new endpoint must be updated manually in the database. We may advise the client to update the endpoint in the database, but we do not have the necessary access rights to perform the change ourselves.
·         A required parameter in the API call has changed – the client must verify what changed and update accordingly.
It is also possible to run the API manually (outside the system) to confirm whether it returns data or not. This is useful for debugging missing layers or confirming integration status — for example, by running the API manually via Postman or a browser to see if it returns data.

![{B7663991-5729-4AD1-A6F0-077C9A3141D8}.png](/.attachments/{B7663991-5729-4AD1-A6F0-077C9A3141D8}-1dccd8f0-4f8a-4540-a671-64e6e4f63bf8.png)